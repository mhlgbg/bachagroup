{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'../api/api';import{useParams}from'react-router-dom';import'./ArticleDetail.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ArticleDetail=()=>{const{key}=useParams();// Lấy key từ URL\nconst[article,setArticle]=useState(null);useEffect(()=>{const fetchArticle=async()=>{try{const response=await axios.get(`/articles/article/${key}/contents`);setArticle(response.data);document.title=response.data.title;// Đặt tiêu đề của trang web là tiêu đề bài viết\n}catch(error){console.error('Error fetching article:',error);}};fetchArticle();},[key]);if(!article){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"article-detail-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"article-title\",children:article.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"article-image\",children:/*#__PURE__*/_jsx(\"img\",{src:`${process.env.REACT_APP_API_BASE_URL}/${article.thumbnailImage}`,alt:article.title})}),/*#__PURE__*/_jsx(\"div\",{className:\"article-summary\",children:/*#__PURE__*/_jsx(\"p\",{children:article.summary})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"article-contents\",children:article.contents.map(content=>{if(content.contentType==='text'){return/*#__PURE__*/_jsx(\"p\",{className:\"article-text\",children:content.contentValue},content._id);}else if(content.contentType==='html'){return/*#__PURE__*/_jsx(\"div\",{className:\"article-html\",dangerouslySetInnerHTML:{__html:content.contentValue}},content._id);}else if(content.contentType==='video'){const videoId=content.contentValue.split('v=')[1];const embedUrl=`https://www.youtube.com/embed/${videoId}`;return/*#__PURE__*/_jsx(\"div\",{className:\"article-video\",children:/*#__PURE__*/_jsx(\"iframe\",{width:\"560\",height:\"315\",src:embedUrl,title:\"YouTube video player\",frameBorder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:true})},content._id);}return null;})})]});};export default ArticleDetail;","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","jsx","_jsx","jsxs","_jsxs","ArticleDetail","key","article","setArticle","fetchArticle","response","get","data","document","title","error","console","children","className","src","process","env","REACT_APP_API_BASE_URL","thumbnailImage","alt","summary","contents","map","content","contentType","contentValue","_id","dangerouslySetInnerHTML","__html","videoId","split","embedUrl","width","height","frameBorder","allow","allowFullScreen"],"sources":["E:/webs/bachagroup/src/components/ArticleDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from '../api/api';\r\nimport { useParams } from 'react-router-dom';\r\nimport './ArticleDetail.css';\r\n\r\nconst ArticleDetail = () => {\r\n  const { key } = useParams(); // Lấy key từ URL\r\n  const [article, setArticle] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchArticle = async () => {\r\n      try {\r\n        const response = await axios.get(`/articles/article/${key}/contents`);\r\n        setArticle(response.data);\r\n        document.title = response.data.title; // Đặt tiêu đề của trang web là tiêu đề bài viết\r\n      } catch (error) {\r\n        console.error('Error fetching article:', error);\r\n      }\r\n    };\r\n\r\n    fetchArticle();\r\n  }, [key]);\r\n\r\n  if (!article) {\r\n    return <p>Loading...</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"article-detail-container\">\r\n      {/* Tiêu đề bài viết */}\r\n      <h1 className=\"article-title\">{article.title}</h1>\r\n\r\n      {/* Hàng chứa ảnh và summary */}\r\n      <div className=\"article-header\">\r\n        <div className=\"article-image\">\r\n          <img src={`${process.env.REACT_APP_API_BASE_URL}/${article.thumbnailImage}`} alt={article.title} />\r\n        </div>\r\n        <div className=\"article-summary\">\r\n          <p>{article.summary}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Danh sách các nội dung của bài viết */}\r\n      <div className=\"article-contents\">\r\n        {article.contents.map((content) => {\r\n          if (content.contentType === 'text') {\r\n            return <p key={content._id} className=\"article-text\">{content.contentValue}</p>;\r\n          } else if (content.contentType === 'html') {\r\n            return (\r\n              <div\r\n                key={content._id}\r\n                className=\"article-html\"\r\n                dangerouslySetInnerHTML={{ __html: content.contentValue }}\r\n              ></div>\r\n            );\r\n          } else if (content.contentType === 'video') {\r\n            const videoId = content.contentValue.split('v=')[1];\r\n            const embedUrl = `https://www.youtube.com/embed/${videoId}`;\r\n            return (\r\n              <div key={content._id} className=\"article-video\">\r\n                <iframe\r\n                  width=\"560\"\r\n                  height=\"315\"\r\n                  src={embedUrl}\r\n                  title=\"YouTube video player\"\r\n                  frameBorder=\"0\"\r\n                  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                  allowFullScreen\r\n                ></iframe>\r\n              </div>\r\n            );\r\n          }\r\n          return null;\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArticleDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}