{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./Home.css';// Import CSS tùy chỉnh cho trang Home\nimport{Link}from'react-router-dom';import axios from'../api/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[articles,setArticles]=useState([]);const[visibleArticles,setVisibleArticles]=useState([]);const[startIndex,setStartIndex]=useState(0);useEffect(()=>{// Gọi API để lấy dữ liệu bài viết\naxios.get('/categories/671a6da492f44555b0b5f943/articles').then(response=>{const{articles}=response.data;setArticles(articles);setVisibleArticles(articles.slice(0,4));}).catch(error=>console.error('Error fetching articles:',error));},[]);useEffect(()=>{if(articles.length>4){// Thay đổi các bài viết được hiển thị mỗi 5 giây nếu có hơn 4 bài\nconst interval=setInterval(()=>{const nextIndex=(startIndex+4)%articles.length;const newVisibleArticles=articles.slice(nextIndex,nextIndex+4);// Nếu không đủ 4 bài còn lại, quay lại từ đầu để đảm bảo luôn có 4 bài\nif(newVisibleArticles.length<4){const additionalArticles=articles.slice(0,4-newVisibleArticles.length);setVisibleArticles([...newVisibleArticles,...additionalArticles]);}else{setVisibleArticles(newVisibleArticles);}setStartIndex(nextIndex);},5000);return()=>clearInterval(interval);// Clear interval khi component unmount\n}else{// Nếu có 4 bài trở xuống, vẫn nháy mỗi 5 giây nhưng không thay đổi nội dung\nconst interval=setInterval(()=>{setVisibleArticles(articles);},5000);return()=>clearInterval(interval);}},[articles,startIndex]);return/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"first-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"column-left\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"C\\xD4NG TY C\\u1ED4 PH\\u1EA6N T\\u1EACP \\u0110O\\xC0N TH\\u01AF\\u01A0NG M\\u1EA0I B\\u1EAEC H\\xC0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-row\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-about\",children:\"V\\u1EC1 BAK Group\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-register\",children:\"\\u0110\\u0103ng k\\xFD s\\u1EED d\\u1EE5ng d\\u1ECBch v\\u1EE5\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"column-right\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/bak1.jpg\"// Thay bằng đường dẫn tới ảnh đại diện của bạn\n,alt:\"BachaGroup\",className:\"representative-image\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"second-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"second-column column-left\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/bak2.jpg\"// Thay bằng đường dẫn tới ảnh cho sứ mệnh\n,alt:\"Mission Image\",className:\"mission-image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"second-column column-right\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"S\\u1EE9 m\\u1EC7nh c\\u1EE7a BAK\"}),/*#__PURE__*/_jsx(\"p\",{children:\"V\\xEC m\\u1ED9t Vi\\u1EC7t Nam Th\\u1ECBnh V\\u01B0\\u1EE3ng\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"mission-list\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"T\\u1ED5 ch\\u1EE9c s\\u1EF1 ki\\u1EC7n\"}),/*#__PURE__*/_jsx(\"li\",{children:\"T\\u1ED5 ch\\u1EE9c h\\u1ED9i ch\\u1EE3, tri\\u1EC3n l\\xE3m\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Truy\\u1EC1n th\\xF4ng qu\\u1EA3ng c\\xE1o\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-services\",children:\"T\\xECm hi\\u1EC3u c\\xE1c d\\u1ECBch v\\u1EE5\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"services-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"C\\xE1c d\\u1ECBch v\\u1EE5 c\\u1EE7a B\\u1EAFc H\\xE0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h_articles-grid\",children:visibleArticles.map(article=>/*#__PURE__*/_jsxs(\"div\",{className:\"h_article-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"h_article-title\",children:article.title}),/*#__PURE__*/_jsx(\"img\",{src:`${process.env.REACT_APP_API_BASE_URL}/${article.thumbnailImage}`,alt:article.title,className:\"h_article-image\"}),/*#__PURE__*/_jsx(\"p\",{className:\"h_article-summary\",children:article.summary}),/*#__PURE__*/_jsx(Link,{to:`/article-detail/${article.key}`,className:\"h_article-link\",children:\"Chi ti\\u1EBFt\"})]},article._id))})]})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","Link","axios","jsx","_jsx","jsxs","_jsxs","Home","articles","setArticles","visibleArticles","setVisibleArticles","startIndex","setStartIndex","get","then","response","data","slice","catch","error","console","length","interval","setInterval","nextIndex","newVisibleArticles","additionalArticles","clearInterval","className","children","src","alt","map","article","title","process","env","REACT_APP_API_BASE_URL","thumbnailImage","summary","to","key","_id"],"sources":["E:/webs/bachagroup/src/components/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './Home.css'; // Import CSS tùy chỉnh cho trang Home\r\nimport { Link } from 'react-router-dom';\r\nimport axios from '../api/api';\r\n\r\nconst Home = () => {\r\n  const [articles, setArticles] = useState([]);\r\n  const [visibleArticles, setVisibleArticles] = useState([]);\r\n  const [startIndex, setStartIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // Gọi API để lấy dữ liệu bài viết\r\n    axios.get('/categories/671a6da492f44555b0b5f943/articles')\r\n      .then(response => {\r\n        const { articles } = response.data;\r\n        setArticles(articles);\r\n        setVisibleArticles(articles.slice(0, 4));\r\n      })\r\n      .catch(error => console.error('Error fetching articles:', error));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (articles.length > 4) {\r\n      // Thay đổi các bài viết được hiển thị mỗi 5 giây nếu có hơn 4 bài\r\n      const interval = setInterval(() => {\r\n        const nextIndex = (startIndex + 4) % articles.length;\r\n        const newVisibleArticles = articles.slice(nextIndex, nextIndex + 4);\r\n\r\n        // Nếu không đủ 4 bài còn lại, quay lại từ đầu để đảm bảo luôn có 4 bài\r\n        if (newVisibleArticles.length < 4) {\r\n          const additionalArticles = articles.slice(0, 4 - newVisibleArticles.length);\r\n          setVisibleArticles([...newVisibleArticles, ...additionalArticles]);\r\n        } else {\r\n          setVisibleArticles(newVisibleArticles);\r\n        }\r\n\r\n        setStartIndex(nextIndex);\r\n      }, 5000);\r\n\r\n      return () => clearInterval(interval); // Clear interval khi component unmount\r\n    } else {\r\n      // Nếu có 4 bài trở xuống, vẫn nháy mỗi 5 giây nhưng không thay đổi nội dung\r\n      const interval = setInterval(() => {\r\n        setVisibleArticles(articles);\r\n      }, 5000);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [articles, startIndex]);\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      {/* Hàng đầu tiên với hai cột */}\r\n      <div className=\"first-row\">\r\n        <div className=\"column-left\">\r\n          <h2>CÔNG TY CỔ PHẦN TẬP ĐOÀN THƯƠNG MẠI BẮC HÀ</h2>\r\n          <div className=\"buttons-row\">\r\n            <button className=\"btn btn-about\">Về BAK Group</button>\r\n            <button className=\"btn btn-register\">Đăng ký sử dụng dịch vụ</button>\r\n          </div>\r\n        </div>\r\n        <div className=\"column-right\">\r\n          <img\r\n            src=\"/images/bak1.jpg\" // Thay bằng đường dẫn tới ảnh đại diện của bạn\r\n            alt=\"BachaGroup\"\r\n            className=\"representative-image\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Hàng thứ hai với hai cột */}\r\n      <div className=\"second-row\">\r\n        <div className=\"second-column column-left\">\r\n          <img\r\n            src=\"/images/bak2.jpg\" // Thay bằng đường dẫn tới ảnh cho sứ mệnh\r\n            alt=\"Mission Image\"\r\n            className=\"mission-image\"\r\n          />\r\n        </div>\r\n        <div className=\"second-column column-right\">\r\n          <h3>Sứ mệnh của BAK</h3>\r\n          <p>Vì một Việt Nam Thịnh Vượng</p>\r\n          <ul className=\"mission-list\">\r\n            <li>Tổ chức sự kiện</li>\r\n            <li>Tổ chức hội chợ, triển lãm</li>\r\n            <li>Truyền thông quảng cáo</li>\r\n          </ul>\r\n          <button className=\"btn btn-services\">Tìm hiểu các dịch vụ</button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Phần hiển thị các dịch vụ của Bắc Hà */}\r\n      <div className=\"services-container\">\r\n        <h2>Các dịch vụ của Bắc Hà</h2>\r\n        <div className=\"h_articles-grid\">\r\n          {visibleArticles.map(article => (\r\n            <div className=\"h_article-card\" key={article._id}>\r\n              <h3 className=\"h_article-title\">{article.title}</h3>\r\n              <img\r\n                src={`${process.env.REACT_APP_API_BASE_URL}/${article.thumbnailImage}`}\r\n                alt={article.title}\r\n                className=\"h_article-image\"\r\n              />\r\n              <p className=\"h_article-summary\">{article.summary}</p>\r\n              <Link to={`/article-detail/${article.key}`} className=\"h_article-link\">Chi tiết</Link>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}